<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blurring</title>
    <link rel="stylesheet" type="text/css" href="./blur.css">
</head>
<body>

    <div class="bg"></div>
    <div class="loadText">0%</div>

    <script>
        const loadText =document.querySelector('.loadText')
const bg = document.querySelector('.bg')

let load = 0

let int = setInterval(blurring,100)

function blurring(){
    load++

    if(load>99){

        clearInterval(int)

    }

    loadText.innerText = `${load}%`
    loadText.style.opacity=scale(load,0,100,1,0)
    bg.style.filter = `blur(${scale(load,0,100,100,0)}px)`

}

const scale =(num,in_min,in_max,out_min,out_max)=>{
    let a = ((num - in_min)*(out_max-out_min))/(in_max-in_min) + out_min
    console.log(a)
    return((num - in_min)*(out_max-out_min))/(in_max-in_min) + out_min
}

    </script>
    
</body>
</html>